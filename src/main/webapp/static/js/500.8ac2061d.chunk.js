"use strict";(self.webpackChunkdemo_ts=self.webpackChunkdemo_ts||[]).push([[500],{2500:function(e,n,t){t.r(n);var r=t(9439),a=t(2791),o=t(586),l=t(1408),s=t(3695),c=t(177),i=t(3231),d=t(5581),u=t(3707),m=(t(1616),t(8329)),p=t(1104),h=t(7689),f=t(9434),Z=t(448),v=t(7707),x=t(691),b=t.n(x),C=(t(335),t(184)),y=o.Z.Header,g=o.Z.Footer,w=o.Z.Content,j=function(){var e=(0,f.I0)(),n=l.Z.useForm(),t=(0,r.Z)(n,1)[0],o=l.Z.useWatch("username",t),x=l.Z.useWatch("password",t),y=l.Z.useWatch("channel",t),g=l.Z.useWatch("rememberme",t),w=(0,h.s0)();(0,a.useEffect)((function(){-1!==window.location.hash.indexOf("403")&&s.ZP.error("\u8eab\u4efd\u6821\u9a8c\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55")}),[]);var j=function(){(0,p.tz)(o,x).then((function(n){b().done(!0),200===n.code?(e((0,v.ex)()),s.ZP.success(n.msg),P("teacher"),E(),w("/home/teacher")):(s.ZP.error(n.msg),N())}))},O=function(){(0,p.CS)(o,x).then((function(n){b().done(!0),200===n.code?(e((0,v.Af)()),s.ZP.success(n.msg),P("department"),E(),w("/home/department")):(s.ZP.error(n.msg),N())}))},k=function(){(0,p.d2)(o,x).then((function(n){b().done(!0),200===n.code?(e((0,v.n$)()),s.ZP.success(n.msg),P("leader"),E(),w("/home/teacher")):(s.ZP.error(n.msg),N())}))},P=function(n){e((0,Z.x4)()),m.Z.set("userType",n,{expires:7,path:"/",sameSite:"strict"})},E=function(){g?(m.Z.set("username",o,{expires:7,path:"/",sameSite:"strict"}),m.Z.set("password",x,{expires:7,path:"/",sameSite:"strict"}),m.Z.set("channel",y,{expires:7,path:"/",sameSite:"strict"})):(m.Z.remove("username"),m.Z.remove("password"),m.Z.remove("channel"))},N=function(){m.Z.remove("username"),m.Z.remove("password"),m.Z.remove("channel"),m.Z.remove("userType")};return(0,C.jsxs)(l.Z,{form:t,name:"login",labelCol:{span:8},wrapperCol:{span:8},onFinish:function(){switch(b().inc(),y){case"teacher":j();break;case"department":O();break;case"leader":k()}},initialValues:{username:m.Z.get("username")||"",password:m.Z.get("password")||"",rememberme:!0,channel:m.Z.get("channel")||"teacher"},children:[(0,C.jsx)(l.Z.Item,{label:"\u7528\u6237\u540d",name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",pattern:/^[a-zA-Z0-9]{1,20}$/}],children:(0,C.jsx)(c.Z,{showCount:!0,maxLength:20,allowClear:!0})}),(0,C.jsx)(l.Z.Item,{label:"\u5bc6\u7801",name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801",pattern:/^[a-zA-Z0-9]{8,20}$/}],children:(0,C.jsx)(c.Z.Password,{showCount:!0,maxLength:20,allowClear:!0})}),(0,C.jsx)(l.Z.Item,{label:"\u767b\u5f55\u6e20\u9053",name:"channel",rules:[{required:!0,message:"\u5fc5\u987b\u9009\u62e9\u767b\u9646\u6e20\u9053"}],children:(0,C.jsxs)(i.ZP.Group,{style:{display:"flex"},buttonStyle:"solid",children:[(0,C.jsx)(i.ZP.Button,{value:"teacher",children:"\u6559\u5e08"}),(0,C.jsx)(i.ZP.Button,{value:"department",children:"\u90e8\u95e8"}),(0,C.jsx)(i.ZP.Button,{value:"leader",children:"\u9886\u5bfc"})]})}),(0,C.jsx)(l.Z.Item,{label:"\u8bb0\u4f4f\u5bc6\u7801",name:"rememberme",valuePropName:"checked",rules:[{required:!0,message:"\u5fc5\u987b\u9009\u62e9\u662f\u5426\u8bb0\u4f4f\u5bc6\u7801"}],children:(0,C.jsx)(d.Z,{style:{display:"flex"},checkedChildren:"\u662f",unCheckedChildren:"\u5426"})}),(0,C.jsxs)(l.Z.Item,{wrapperCol:{},children:[(0,C.jsx)(u.Z,{type:"primary",htmlType:"submit",children:"\u767b\u5f55"}),"\xa0\xa0\xa0\xa0",(0,C.jsx)(u.Z,{htmlType:"button",onClick:function(){t.resetFields()},children:"\u91cd\u7f6e"}),"\xa0\xa0\xa0\xa0",(0,C.jsx)(u.Z,{htmlType:"button",onClick:function(){w("/register")},children:"\u6ce8\u518c"})]})]})};n.default=function(){return(0,C.jsxs)(o.Z,{children:[(0,C.jsx)(y,{children:(0,C.jsx)("span",{children:"\u6821\u56ed OA \u7cfb\u7edf\u767b\u9646"})}),(0,C.jsx)(w,{children:(0,C.jsx)(j,{})}),(0,C.jsx)(g,{children:"\u6821\u56ed OA \u7cfb\u7edf \xa9 2022 Created By allynlin"})]})}},586:function(e,n,t){var r=t(3613),a=t(9779),o=r.ZP;o.Header=r.h4,o.Footer=r.$_,o.Content=r.VY,o.Sider=a.Z,n.Z=o},3231:function(e,n,t){t.d(n,{ZP:function(){return I}});var r=t(7462),a=t(4942),o=t(9439),l=t(1694),s=t.n(l),c=t(5179),i=t(2791),d=t(1929),u=t(1815);var m=i.createContext(null),p=m.Provider,h=m,f=i.createContext(null),Z=f.Provider,v=t(8083),x=t(8834),b=t(9125),C=t(1940),y=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},g=function(e,n){var t,o=i.useContext(h),l=i.useContext(f),c=i.useContext(d.E_),u=c.getPrefixCls,m=c.direction,p=i.useRef(),Z=(0,x.sQ)(n,p),g=(0,i.useContext)(C.aM).isFormItemInput,w=e.prefixCls,j=e.className,O=e.children,k=e.style,P=e.disabled,E=y(e,["prefixCls","className","children","style","disabled"]),N=u("radio",w),I="button"===((null===o||void 0===o?void 0:o.optionType)||l)?"".concat(N,"-button"):N,S=(0,r.Z)({},E),_=i.useContext(b.Z);S.disabled=P||_,o&&(S.name=o.name,S.onChange=function(n){var t,r;null===(t=e.onChange)||void 0===t||t.call(e,n),null===(r=null===o||void 0===o?void 0:o.onChange)||void 0===r||r.call(o,n)},S.checked=e.value===o.value,S.disabled=S.disabled||o.disabled);var T=s()("".concat(I,"-wrapper"),(t={},(0,a.Z)(t,"".concat(I,"-wrapper-checked"),S.checked),(0,a.Z)(t,"".concat(I,"-wrapper-disabled"),S.disabled),(0,a.Z)(t,"".concat(I,"-wrapper-rtl"),"rtl"===m),(0,a.Z)(t,"".concat(I,"-wrapper-in-form-item"),g),t),j);return i.createElement("label",{className:T,style:k,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},i.createElement(v.Z,(0,r.Z)({},S,{type:"radio",prefixCls:I,ref:Z})),void 0!==O?i.createElement("span",null,O):null)};var w=i.forwardRef(g),j=i.forwardRef((function(e,n){var t,l=i.useContext(d.E_),m=l.getPrefixCls,h=l.direction,f=i.useContext(u.Z),Z=(0,c.Z)(e.defaultValue,{value:e.value}),v=(0,o.Z)(Z,2),x=v[0],b=v[1],C=e.prefixCls,y=e.className,g=void 0===y?"":y,j=e.options,O=e.buttonStyle,k=void 0===O?"outline":O,P=e.disabled,E=e.children,N=e.size,I=e.style,S=e.id,_=e.onMouseEnter,T=e.onMouseLeave,F=e.onFocus,M=e.onBlur,A=m("radio",C),R="".concat(A,"-group"),W=E;j&&j.length>0&&(W=j.map((function(e){return"string"===typeof e||"number"===typeof e?i.createElement(w,{key:e.toString(),prefixCls:A,disabled:P,value:e,checked:x===e},e):i.createElement(w,{key:"radio-group-value-options-".concat(e.value),prefixCls:A,disabled:e.disabled||P,value:e.value,checked:x===e.value,style:e.style},e.label)})));var B=N||f,L=s()(R,"".concat(R,"-").concat(k),(t={},(0,a.Z)(t,"".concat(R,"-").concat(B),B),(0,a.Z)(t,"".concat(R,"-rtl"),"rtl"===h),t),g);return i.createElement("div",(0,r.Z)({},function(e){return Object.keys(e).reduce((function(n,t){return!t.startsWith("data-")&&!t.startsWith("aria-")&&"role"!==t||t.startsWith("data-__")||(n[t]=e[t]),n}),{})}(e),{className:L,style:I,onMouseEnter:_,onMouseLeave:T,onFocus:F,onBlur:M,id:S,ref:n}),i.createElement(p,{value:{onChange:function(n){var t=x,r=n.target.value;"value"in e||b(r);var a=e.onChange;a&&r!==t&&a(n)},value:x,disabled:e.disabled,name:e.name,optionType:e.optionType}},W))})),O=i.memo(j),k=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},P=function(e,n){var t=i.useContext(d.E_).getPrefixCls,a=e.prefixCls,o=k(e,["prefixCls"]),l=t("radio",a);return i.createElement(Z,{value:"button"},i.createElement(w,(0,r.Z)({prefixCls:l},o,{type:"radio",ref:n})))},E=i.forwardRef(P),N=w;N.Button=E,N.Group=O,N.__ANT_RADIO=!0;var I=N},5581:function(e,n,t){t.d(n,{Z:function(){return y}});var r=t(7462),a=t(4942),o=t(7106),l=t(1694),s=t.n(l),c=t(9439),i=t(4925),d=t(2791),u=t(5179),m=t(1354),p=d.forwardRef((function(e,n){var t,r=e.prefixCls,o=void 0===r?"rc-switch":r,l=e.className,p=e.checked,h=e.defaultChecked,f=e.disabled,Z=e.loadingIcon,v=e.checkedChildren,x=e.unCheckedChildren,b=e.onClick,C=e.onChange,y=e.onKeyDown,g=(0,i.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),w=(0,u.Z)(!1,{value:p,defaultValue:h}),j=(0,c.Z)(w,2),O=j[0],k=j[1];function P(e,n){var t=O;return f||(k(t=e),null===C||void 0===C||C(t,n)),t}var E=s()(o,l,(t={},(0,a.Z)(t,"".concat(o,"-checked"),O),(0,a.Z)(t,"".concat(o,"-disabled"),f),t));return d.createElement("button",Object.assign({},g,{type:"button",role:"switch","aria-checked":O,disabled:f,className:E,ref:n,onKeyDown:function(e){e.which===m.Z.LEFT?P(!1,e):e.which===m.Z.RIGHT&&P(!0,e),null===y||void 0===y||y(e)},onClick:function(e){var n=P(!O,e);null===b||void 0===b||b(n,e)}}),Z,d.createElement("span",{className:"".concat(o,"-inner")},O?v:x))}));p.displayName="Switch";var h=p,f=t(1929),Z=t(9125),v=t(1815),x=t(2833),b=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},C=d.forwardRef((function(e,n){var t,l=e.prefixCls,c=e.size,i=e.disabled,u=e.loading,m=e.className,p=void 0===m?"":m,C=b(e,["prefixCls","size","disabled","loading","className"]),y=d.useContext(f.E_),g=y.getPrefixCls,w=y.direction,j=d.useContext(v.Z),O=d.useContext(Z.Z),k=i||O||u,P=g("switch",l),E=d.createElement("div",{className:"".concat(P,"-handle")},u&&d.createElement(o.Z,{className:"".concat(P,"-loading-icon")})),N=s()((t={},(0,a.Z)(t,"".concat(P,"-small"),"small"===(c||j)),(0,a.Z)(t,"".concat(P,"-loading"),u),(0,a.Z)(t,"".concat(P,"-rtl"),"rtl"===w),t),p);return d.createElement(x.Z,{insertExtraNode:!0},d.createElement(h,(0,r.Z)({},C,{prefixCls:P,className:N,disabled:k,ref:n,loadingIcon:E})))}));C.__ANT_SWITCH=!0;var y=C},335:function(){},1616:function(){}}]);
//# sourceMappingURL=500.8ac2061d.chunk.js.map